<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="project-content">
    <h1 id="project-title"></h1>
    <p id="project-technologies"></p>
    <img id="project-image" src="" alt="Project Image">
    <p id="project-description"></p>
    <div id="project-links"></div>
</div>

<script>
    // Function to load project details based on query parameter
    async function loadProject() {
        const params = new URLSearchParams(window.location.search);
        const projectId = params.get('id');
        
        if (!projectId) {
            document.getElementById('project-content').innerHTML = "<p>Project not found.</p>";
            return;
        }

        // Fetch project data
        try {
            const response = await fetch('projects.json');
            const projects = await response.json();
            const project = projects.find(proj => proj.id === projectId);

            if (!project) {
                document.getElementById('project-content').innerHTML = "<p>Project not found.</p>";
                return;
            }

            // Populate content
            document.getElementById('project-title').textContent = project.title;
            document.getElementById('project-technologies').textContent = project.technologies;
            document.getElementById('project-image').src = project.image;
            document.getElementById('project-image').alt = project.title;
            document.getElementById('project-description').textContent = project.description;

            // Create links if available
            const linksContainer = document.getElementById('project-links');
            linksContainer.innerHTML = ''; // Clear any previous links

            if (project.githubLink) {
                const githubLink = document.createElement('a');
                githubLink.href = project.githubLink;
                githubLink.target = "_blank";
                githubLink.className = "project-link";
                githubLink.textContent = "GitHub Repo";
                linksContainer.appendChild(githubLink);

                // Add GitHub icon with text
                githubLink.innerHTML = `<img src="assets/github-logo.png" alt="GitHub Logo" class="link-icon"> GitHub Repo`;
                linksContainer.appendChild(githubLink);
            }

            if (project.demoLink) {
                const demoLink = document.createElement('a');
                demoLink.href = project.demoLink;
                demoLink.target = "_blank";
                demoLink.className = "project-link";
                demoLink.textContent = "Project Link";
                linksContainer.appendChild(demoLink);
            }
        } catch (error) {
            console.error("Error loading project data:", error);
            document.getElementById('project-content').innerHTML = "<p>There was an error loading the project details.</p>";
        }
    }

    // Call the loadProject function when the page loads
    loadProject();
</script>

</body>
</html>